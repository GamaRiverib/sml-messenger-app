<ion-content>
  <ion-progress-bar *ngIf="order" [value]="progress" [color]="progressColor"></ion-progress-bar>
  <ion-list *ngIf="order">
    <ion-list-header>
      <ion-label color="secondary">
        Pickup
      </ion-label>
    </ion-list-header>
    <ion-item
      lines="none"
      [href]="'https://maps.google.com?saddr=My+Location&daddr=' + order.sourceAddress.latitude + ',' + order.sourceAddress.longitude"
      target="_blank">
      <ion-icon name="location-outline"></ion-icon>
      <ion-label class="ion-padding-start ion-text-wrap">{{ order.sourceAddress.fullAddress }}</ion-label>
      <ion-icon 
        *ngIf="order.deliveryStatus != 'CREATED' && order.deliveryStatus != 'QUEUED' && order.deliveryStatus != 'IN_ORDER'" 
        color="success"
        name="checkmark-circle"
        slot="end">
      </ion-icon>
      <ion-icon 
        *ngIf="order.deliveryStatus == 'CREATED' || order.deliveryStatus == 'QUEUED' || order.deliveryStatus == 'IN_ORDER'"
        name="navigate-circle"
        slot="end">
      </ion-icon>
    </ion-item>
    <div *ngIf="order.sourceAddressInstruction" class="ion-padding-bottom">
      <div *ngIf="order.sourceAddressInstruction.contact">
        <ion-item lines="none" *ngIf="order.sourceAddressInstruction.contact.name">
          <ion-icon name="person-outline"></ion-icon>
          <ion-label class="ion-padding-start">{{ order.sourceAddressInstruction.contact.name }}</ion-label>
        </ion-item>
        <ion-item 
          lines="none"
          *ngIf="order.sourceAddressInstruction.contact.email" 
          [href]="'mailto:' + order.sourceAddressInstruction.contact.email">
          <ion-icon name="mail-outline"></ion-icon>
          <ion-label class="ion-padding-start">{{ order.sourceAddressInstruction.contact.email }}</ion-label>
        </ion-item>
        <ion-item
          lines="none"
          *ngIf="order.sourceAddressInstruction.contact.phone" 
          [href]="'tel:' + order.sourceAddressInstruction.contact.phone">
          <ion-icon name="phone-portrait-outline"></ion-icon>
          <ion-label class="ion-padding-start">{{ order.sourceAddressInstruction.contact.phone }}</ion-label>
        </ion-item>
      </div>
      <ion-item lines="none" *ngIf="order.sourceAddressInstruction.description">
        <ion-icon name="information-outline"></ion-icon>
        <ion-label class="ion-padding-start ion-text-wrap">{{ order.sourceAddressInstruction.description }}</ion-label>
      </ion-item>
    </div>
    <ion-list-header>
      <ion-label color="secondary">
        Dropoff
      </ion-label>
    </ion-list-header>
    <ion-item
      lines="none"
      [href]="'https://maps.google.com?saddr=My+Location&daddr=' + order.destinationAddress.latitude + ',' + order.destinationAddress.longitude"
      target="_blank">
      <ion-icon name="location-outline"></ion-icon>
      <ion-label class="ion-padding-start ion-text-wrap">{{ order.destinationAddress.fullAddress }}</ion-label>
      <ion-icon *ngIf="order.deliveryStatus == 'DELIVERED'" color="success" name="checkmark-circle" slot="end"></ion-icon>
      <ion-icon
        *ngIf="order.deliveryStatus != 'DELIVERED' && order.deliveryStatus != 'CREATED' && order.deliveryStatus != 'QUEUED' && order.deliveryStatus != 'IN_ORDER'"
        name="navigate-circle"
        slot="end">
      </ion-icon>
    </ion-item>
    <div *ngIf="order.destinationAddressInstruction">
      <div *ngIf="order.destinationAddressInstruction.contact">
        <ion-item lines="none" *ngIf="order.destinationAddressInstruction.contact.name">
          <ion-icon name="person-outline"></ion-icon>
          <ion-label class="ion-padding-start">{{ order.destinationAddressInstruction.contact.name }}</ion-label>
        </ion-item>
        <ion-item 
          lines="none"
          *ngIf="order.destinationAddressInstruction.contact.email" 
          [href]="'mailto:' + order.destinationAddressInstruction.contact.email">
          <ion-icon name="mail-outline"></ion-icon>
          <ion-label class="ion-padding-start">{{ order.destinationAddressInstruction.contact.email }}</ion-label>
        </ion-item>
        <ion-item
          lines="none"
          *ngIf="order.destinationAddressInstruction.contact.phone" 
          [href]="'tel:' + order.destinationAddressInstruction.contact.phone">
          <ion-icon name="phone-portrait-outline"></ion-icon>
          <ion-label class="ion-padding-start">{{ order.destinationAddressInstruction.contact.phone }}</ion-label>
        </ion-item>
      </div>
      <ion-item lines="none" *ngIf="order.destinationAddressInstruction.description">
        <ion-icon name="information-outline"></ion-icon>
        <ion-label class="ion-padding-start ion-text-wrap">{{ order.destinationAddressInstruction.description }}</ion-label>
      </ion-item>
    </div>
  </ion-list>
</ion-content>
